<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="489px" preserveAspectRatio="none" style="width:686px;height:489px;background:#FFFFFF;" version="1.1" viewBox="0 0 686 489" width="686px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="282.3984" style="stroke:#000000;stroke-width:1.0;" width="664" x="15" y="154.8281"/><rect fill="#FFFFFF" height="43.9375" style="stroke:none;stroke-width:1.0;" width="664" x="15" y="393.2891"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="70" x2="70" y1="36.2969" y2="454.2266"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="439" x2="439" y1="36.2969" y2="454.2266"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="621" x2="621" y1="36.2969" y2="454.2266"/><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="71" x="35" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="42" y="24.9951">Browser</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="71" x="35" y="453.2266"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57" x="42" y="473.2217">Browser</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="73" x="403" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59" x="410" y="24.9951">Gateway</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="73" x="403" y="453.2266"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59" x="410" y="473.2217">Gateway</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="75" x="584" y="5"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="61" x="591" y="24.9951">Backend</text><rect fill="#FFFFFF" height="30.2969" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="75" x="584" y="453.2266"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="61" x="591" y="473.2217">Backend</text><polygon fill="#000000" points="427.5,93.6953,437.5,97.6953,427.5,101.6953,431.5,97.6953" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="70.5" x2="433.5" y1="97.6953" y2="97.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="108" x="77.5" y="62.3638">Preflight Request</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208" x="77.5" y="77.4966">OPTIONS /parents-kids/users/me</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176" x="77.5" y="92.6294">Origin: http://localhost:5173</text><line style="stroke:#000000;stroke-width:1.0;" x1="439.5" x2="481.5" y1="126.8281" y2="126.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="481.5" x2="481.5" y1="126.8281" y2="139.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="440.5" x2="481.5" y1="139.8281" y2="139.8281"/><polygon fill="#000000" points="450.5,135.8281,440.5,139.8281,450.5,143.8281,446.5,139.8281" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="168" x="446.5" y="121.7622">Check CORS Configuration</text><path d="M15,154.8281 L79,154.8281 L79,161.9609 L69,171.9609 L15,171.9609 L15,154.8281 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="282.3984" style="stroke:#000000;stroke-width:1.0;" width="664" x="15" y="154.8281"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="30" y="167.895">alt</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="94" y="167.0386">[Origin Allowed]</text><polygon fill="#000000" points="81.5,234.4922,71.5,238.4922,81.5,242.4922,77.5,238.4922" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="75.5" x2="438.5" y1="238.4922" y2="238.4922"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="46" x="87.5" y="188.0278">200 OK</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="314" x="87.5" y="203.1606">Access-Control-Allow-Origin: http://localhost:5173</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="345" x="87.5" y="218.2935">Access-Control-Allow-Methods: GET,POST,PUT,DELETE</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207" x="87.5" y="233.4263">Access-Control-Allow-Headers: *</text><polygon fill="#000000" points="427.5,293.8906,437.5,297.8906,427.5,301.8906,431.5,297.8906" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="70.5" x2="433.5" y1="297.8906" y2="297.8906"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96" x="77.5" y="262.5591">Actual Request</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176" x="77.5" y="277.6919">GET /parents-kids/users/me</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183" x="77.5" y="292.8247">Authorization: Bearer &lt;JWT&gt;</text><polygon fill="#000000" points="609.5,323.0234,619.5,327.0234,609.5,331.0234,613.5,327.0234" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="439.5" x2="615.5" y1="327.0234" y2="327.0234"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="106" x="446.5" y="321.9575">Forward Request</text><polygon fill="#000000" points="450.5,352.1563,440.5,356.1563,450.5,360.1563,446.5,356.1563" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="444.5" x2="620.5" y1="356.1563" y2="356.1563"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="62" x="456.5" y="351.0903">Response</text><polygon fill="#000000" points="81.5,381.2891,71.5,385.2891,81.5,389.2891,77.5,385.2891" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="75.5" x2="438.5" y1="385.2891" y2="385.2891"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="189" x="87.5" y="380.2231">Response with CORS Headers</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="15" x2="679" y1="394.2891" y2="394.2891"/><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="20" y="404.4995">[Origin Blocked]</text><polygon fill="#000000" points="81.5,425.2266,71.5,429.2266,81.5,433.2266,77.5,429.2266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="75.5" x2="438.5" y1="429.2266" y2="429.2266"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="71" x="87.5" y="424.1606">CORS Error</text><!--MD5=[abc99ffba5d2eb81a3e409e2b308fb15]
@startuml
!theme plain

participant "Browser" as B
participant "Gateway" as G
participant "Backend" as BE

B -> G: Preflight Request\nOPTIONS /parents-kids/users/me\nOrigin: http://localhost:5173

G -> G: Check CORS Configuration
alt Origin Allowed
  G - -> B: 200 OK\nAccess-Control-Allow-Origin: http://localhost:5173\nAccess-Control-Allow-Methods: GET,POST,PUT,DELETE\nAccess-Control-Allow-Headers: *
  
  B -> G: Actual Request\nGET /parents-kids/users/me\nAuthorization: Bearer <JWT>
  
  G -> BE: Forward Request
  BE - -> G: Response
  
  G - -> B: Response with CORS Headers
  
else Origin Blocked
  G - -> B: CORS Error
end
@enduml

@startuml







<style>
  root {
    BackgroundColor white
    FontColor black
    FontName Verdana
    HyperLinkColor blue
    LineColor black
    LineThickness 1
    Margin 5
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor black
skinparam BackgroundColor white
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy nosolid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor black
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam Boundary {
  FontColor black
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor black
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor white
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor black
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor black
  FontName Verdana
}
skinparam Footer {
  FontColor black
  FontName Verdana
}
skinparam Header {
  FontColor black
  FontName Verdana
}
skinparam Hyperlink {
  Color blue
}
skinparam IconPackage {
  Color black
  BackgroundColor white
}
skinparam IconPrivate {
  Color black
  BackgroundColor white
}
skinparam IconProtected {
  Color black
  BackgroundColor white
}
skinparam IconPublic {
  Color black
  BackgroundColor white
}
skinparam Note {
  FontColor black
  FontName Verdana
}
skinparam Object {
  BorderColor black
}
skinparam Package {
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam State {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeA {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeC {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeE {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeI {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeN {
  BackgroundColor white
  BorderColor black
}
skinparam UseCaseStereoType {
  FontColor black
  FontName Verdana
}

participant "Browser" as B
participant "Gateway" as G
participant "Backend" as BE

B -> G: Preflight Request\nOPTIONS /parents-kids/users/me\nOrigin: http://localhost:5173

G -> G: Check CORS Configuration
alt Origin Allowed
  G - -> B: 200 OK\nAccess-Control-Allow-Origin: http://localhost:5173\nAccess-Control-Allow-Methods: GET,POST,PUT,DELETE\nAccess-Control-Allow-Headers: *
  
  B -> G: Actual Request\nGET /parents-kids/users/me\nAuthorization: Bearer <JWT>
  
  G -> BE: Forward Request
  BE - -> G: Response
  
  G - -> B: Response with CORS Headers
  
else Origin Blocked
  G - -> B: CORS Error
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>